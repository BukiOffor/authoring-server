import{b as C}from"./chunk-4ATUTLVG.js";import{p as x,t as m,v as w,y as M}from"./chunk-DYZX3KWV.js";import{p as b}from"./chunk-LKMNDKOK.js";import{Ec as I,M as h,O as l,Oa as y,Qa as D,V as a,c as f,ea as v,fa as d,ja as c,na as g,oa as F,pc as H,ua as E}from"./chunk-ZXBBRZMY.js";function J(t){t||(t=a(d));let n=new f(e=>{if(t.destroyed){e.next();return}return t.onDestroy(e.next.bind(e))});return e=>e.pipe(h(n))}function K(t,n){let r=!n?.manualCleanup?n?.injector?.get(d)??a(d):null,s=T(n?.equal),o;n?.requireSync?o=c({kind:0},{equal:s}):o=c({kind:1,value:n?.initialValue},{equal:s});let u,p=t.subscribe({next:i=>o.set({kind:1,value:i}),error:i=>{o.set({kind:2,error:i}),u?.()},complete:()=>{u?.()}});if(n?.requireSync&&o().kind===0)throw new l(601,!1);return u=r?.onDestroy(p.unsubscribe.bind(p)),H(()=>{let i=o();switch(i.kind){case 1:return i.value;case 2:throw i.error;case 0:throw new l(601,!1)}},{equal:n?.equal})}function T(t=Object.is){return(n,e)=>n.kind===1&&e.kind===1&&t(n.value,e.value)}var ie=(()=>{class t extends C{pFocusTrapDisabled=!1;platformId=a(E);document=a(v);firstHiddenFocusableElement;lastHiddenFocusableElement;ngOnInit(){super.ngOnInit(),b(this.platformId)&&!this.pFocusTrapDisabled&&!this.firstHiddenFocusableElement&&!this.lastHiddenFocusableElement&&this.createHiddenFocusableElements()}ngOnChanges(e){super.ngOnChanges(e),e.pFocusTrapDisabled&&b(this.platformId)&&(e.pFocusTrapDisabled.currentValue?this.removeHiddenFocusableElements():this.createHiddenFocusableElements())}removeHiddenFocusableElements(){this.firstHiddenFocusableElement&&this.firstHiddenFocusableElement.parentNode&&this.firstHiddenFocusableElement.parentNode.removeChild(this.firstHiddenFocusableElement),this.lastHiddenFocusableElement&&this.lastHiddenFocusableElement.parentNode&&this.lastHiddenFocusableElement.parentNode.removeChild(this.lastHiddenFocusableElement)}getComputedSelector(e){return`:not(.p-hidden-focusable):not([data-p-hidden-focusable="true"])${e??""}`}createHiddenFocusableElements(){let r=s=>x("span",{class:"p-hidden-accessible p-hidden-focusable",tabindex:"0",role:"presentation","aria-hidden":!0,"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0,onFocus:s?.bind(this)});this.firstHiddenFocusableElement=r(this.onFirstHiddenElementFocus),this.lastHiddenFocusableElement=r(this.onLastHiddenElementFocus),this.firstHiddenFocusableElement.setAttribute("data-pc-section","firstfocusableelement"),this.lastHiddenFocusableElement.setAttribute("data-pc-section","lastfocusableelement"),this.el.nativeElement.prepend(this.firstHiddenFocusableElement),this.el.nativeElement.append(this.lastHiddenFocusableElement)}onFirstHiddenElementFocus(e){let{currentTarget:r,relatedTarget:s}=e,o=s===this.lastHiddenFocusableElement||!this.el.nativeElement?.contains(s)?w(r.parentElement,":not(.p-hidden-focusable)"):this.lastHiddenFocusableElement;m(o)}onLastHiddenElementFocus(e){let{currentTarget:r,relatedTarget:s}=e,o=s===this.firstHiddenFocusableElement||!this.el.nativeElement?.contains(s)?M(r.parentElement,":not(.p-hidden-focusable)"):this.firstHiddenFocusableElement;m(o)}static \u0275fac=(()=>{let e;return function(s){return(e||(e=F(t)))(s||t)}})();static \u0275dir=y({type:t,selectors:[["","pFocusTrap",""]],inputs:{pFocusTrapDisabled:[2,"pFocusTrapDisabled","pFocusTrapDisabled",I]},features:[D,g]})}return t})();export{ie as a,J as b,K as c};
