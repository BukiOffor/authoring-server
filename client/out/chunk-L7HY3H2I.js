import{a as A}from"./chunk-QIGOHWOO.js";import{f as V}from"./chunk-VBKDNPD5.js";import{b as P,c as x,e as M,f as T,g as N,i as y,k as D,l as F,o as G,s as q}from"./chunk-NDJI2DGD.js";import{a as E}from"./chunk-E6WYOAKO.js";import"./chunk-J7NQQLQI.js";import"./chunk-LKMNDKOK.js";import{$ as h,Ba as a,Bb as c,D as k,Ma as L,Pb as s,V as g,_,aa as w,fb as m,gb as u,ja as C,lb as f,mb as t,nb as n,ob as d,vb as b,zb as v}from"./chunk-ZXBBRZMY.js";import"./chunk-C6Q5SG76.js";function j(i,l){i&1&&s(0," email is required ")}function H(i,l){if(i&1&&(t(0,"div",17),m(1,j,1,0),n()),i&2){let e,o=c();a(),u((e=o.form.get("email"))!=null&&e.hasError("required")?1:-1)}}function O(i,l){if(i&1){let e=b();t(0,"div",23),v("click",function(){_(e);let r=c();return h(r.isPasswordVisible.set(!r.isPasswordVisible()))}),w(),t(1,"svg",24),d(2,"path",25)(3,"path",26)(4,"path",27),n()()}}function R(i,l){if(i&1){let e=b();t(0,"div",23),v("click",function(){_(e);let r=c();return h(r.isPasswordVisible.set(!r.isPasswordVisible()))}),w(),t(1,"svg",24),d(2,"path",28)(3,"path",29)(4,"path",30),n()()}}function U(i,l){i&1&&s(0," Password is required ")}function B(i,l){if(i&1&&(t(0,"div",17),m(1,U,1,0),n()),i&2){let e,o=c();a(),u((e=o.form.get("password"))!=null&&e.hasError("required")?1:-1)}}var S=class i{_authService=g(A);_toast=g(E);_router=g(V);isPasswordVisible=C(!1);isPendingLogin=C(!1);form;ngOnInit(){this.initForm()}initForm(){this.form=new N({email:new y("",x.required),password:new y("",x.required)})}submitHandler(){if(this.form.invalid){this.form.markAllAsTouched();return}let l=this.form.value;this.isPendingLogin.set(!0),this._authService.login(l).pipe(this._toast.observe({loading:"logging in...",success:"Logged in",error:e=>e.error.message??"Sorry! Unable to perform login"}),k(()=>this.isPendingLogin.set(!1))).subscribe({next:e=>{this._authService.saveUserAuthData(e),this._router.navigateByUrl("/app")}})}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=L({type:i,selectors:[["app-login"]],decls:35,vars:6,consts:[[1,"h-full"],[1,"h-full","flex","flex-col","md:flex-row","md:items-center"],[1,"md:h-full","md:w-[55%]","hidden","lg:block"],[1,"md:h-full","bg-[url('/auth.jpg')]","bg-bottom-right","bg-cover","bg-no-repeat","bg-green-100","bg-blend-multiply"],[1,"flex","items-center","gap-4","md:p-8"],["src","logo.png","alt","logo",1,"w-[4.5rem]"],[1,"uppercase","font-black","text-xl","text-gray-800"],[1,"h-full","md:h-full","overflow-y-auto","md:overflow-y-hidden","flex-1","p-5","sm:pt-40","md:p-0"],[1,"h-full","flex","flex-col","items-center","justify-center"],[1,"min-w-full","md:min-w-[80%]","xl:min-w-[70%]","mx-auto"],["src","logo.png","alt","logo",1,"mx-auto","w-[8rem]"],[1,"font-bold","text-2xl","mt-10","mb-2","text-center","text-gray-800"],[1,"text-gray-500","mb-10","text-center"],[1,"form",3,"ngSubmit","formGroup"],[1,"form-container"],[1,"form-group"],["formControlName","email","type","email","placeholder","Enter your email",1,"form-control","border-gray-400"],[1,"control-error"],[1,"relative"],["formControlName","password","placeholder","Enter your password",1,"form-control","border-gray-400",3,"type"],[1,"absolute","right-0","top-2","mr-2","cursor-pointer"],[1,"form-btn"],["type","submit",3,"disabled"],[1,"absolute","right-0","top-2","mr-2","cursor-pointer",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","width","20","height","20","color","#000000","fill","none"],["d","M13 18C13 18 14 18 15 20C15 20 18.1765 15 21 14","stroke","currentColor","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["d","M16 12C14.9041 9.63505 12.5526 8 9.82857 8C6.05725 8 3 11.134 3 15C3 18.866 6.05725 22 9.82857 22C10.1598 22 10.4855 21.9758 10.8041 21.9291","stroke","currentColor","stroke-width","1.5","stroke-linecap","round"],["d","M14.5 9.5V6.5C14.5 4.01472 12.4853 2 10 2C7.51472 2 5.5 4.01472 5.5 6.5V9.5","stroke","currentColor","stroke-width","1.5","stroke-linecap","round"],["d","M10.5 22C6.55227 22 3.5 18.866 3.5 15C3.5 11.134 6.70027 8 10.648 8C13.4128 8 15.811 9.53725 17 11.7866","stroke","currentColor","stroke-width","1.5","stroke-linecap","round"],["d","M15 9V6.5C15 4.01472 12.9853 2 10.5 2C8.01472 2 6 4.01472 6 6.5V9.5","stroke","currentColor","stroke-width","1.5","stroke-linecap","round"],["d","M13.5 22L17 18.5M17 18.5L20.5 15M17 18.5L13.5 15M17 18.5L20.5 22","stroke","currentColor","stroke-width","1.5","stroke-linecap","round"]],template:function(e,o){if(e&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),d(5,"img",5),t(6,"span",6),s(7,"authoring system"),n()()()(),t(8,"div",7)(9,"div",8)(10,"div",9)(11,"div"),d(12,"img",10),n(),t(13,"div",11),s(14,"Login to your account"),n(),t(15,"div",12),s(16,"Enter your details below to login to your account"),n(),t(17,"form",13),v("ngSubmit",function(){return o.submitHandler()}),t(18,"div",14)(19,"div",15)(20,"label"),s(21,"email"),n(),d(22,"input",16),m(23,H,2,1,"div",17),n(),t(24,"div",15)(25,"label"),s(26,"password"),n(),t(27,"div",18),d(28,"input",19),m(29,O,5,0,"div",20)(30,R,5,0,"div",20),n(),m(31,B,2,1,"div",17),n(),t(32,"div",21)(33,"button",22),s(34,"sign in"),n()()()()()()()()()),e&2){let r,p;a(17),f("formGroup",o.form),a(6),u((r=o.form.get("email"))!=null&&r.touched&&((r=o.form.get("email"))!=null&&r.invalid)?23:-1),a(5),f("type",o.isPasswordVisible()?"text":"password"),a(),u(o.isPasswordVisible()?30:29),a(2),u((p=o.form.get("password"))!=null&&p.touched&&((p=o.form.get("password"))!=null&&p.invalid)?31:-1),a(2),f("disabled",o.isPendingLogin())}},dependencies:[q,D,P,M,T,F,G],encapsulation:2})};export{S as default};
