import{a as _e,b as fe,c as ge}from"./chunk-GHADGKKE.js";import{a as me}from"./chunk-X2NEKCSK.js";import{a as ce,b as pe,c as j}from"./chunk-YXGH2LZJ.js";import{b as L}from"./chunk-ZY37CGI6.js";import"./chunk-4ATUTLVG.js";import"./chunk-DYZX3KWV.js";import"./chunk-4O3FVBGX.js";import{c as w,f as ne,g as q,i as C,k as oe,l as re,m as se,n as ae,q as $,s as le}from"./chunk-NDJI2DGD.js";import{a as ie}from"./chunk-E6WYOAKO.js";import{a as de,b as ue}from"./chunk-J7NQQLQI.js";import{r as te,u as H}from"./chunk-LKMNDKOK.js";import{$ as b,$b as _,Ba as a,Bb as c,D as A,Ma as Z,Mb as I,Nb as O,Pb as l,Q as B,Qb as y,Rb as P,Tb as J,Ub as X,V as S,Vb as Y,_ as v,aa as x,ba as k,fa as U,fb as f,gb as g,hb as W,ib as D,ja as M,jb as F,kb as E,lb as u,mb as n,nb as o,ob as m,qc as ee,rc as R,sb as z,tb as K,vb as V,zb as p}from"./chunk-ZXBBRZMY.js";import"./chunk-C6Q5SG76.js";var G=class r{_baseURL=de.baseURL;_http=S(te);getSubjects(e){return H(()=>e()?`${this._baseURL}/topics/subject/${e()}`:void 0)}getSubtopics(e,t){return H(()=>e()&&t()?`${this._baseURL}/topics/subject/${e()}/topic/${t()}/metadata`:void 0)}createMCQquestion(e){let t=`${this._baseURL}/items/create/single`;return this._http.post(t,e)}createQuestion(e){let t=`${this._baseURL}/items/create/passage`;return this._http.post(t,e)}static \u0275fac=function(t){return new(t||r)};static \u0275prov=B({token:r,factory:r.\u0275fac,providedIn:"root"})};var he=()=>({width:"50rem",margin:"0 10px"}),T=()=>({height:"200"}),be=()=>({width:"25rem",margin:"0 10px"}),xe=(r,e)=>e.id;function Se(r,e){r&1&&(n(0,"div",5),m(1,"div",37),o())}function ye(r,e){r&1&&(n(0,"span",41),x(),n(1,"svg",46),m(2,"path",47),o()())}function we(r,e){if(r&1&&(n(0,"span",42),l(1),o()),r&2){let t=c().$implicit;a(),y(t.expected_total_count)}}function Qe(r,e){r&1&&(n(0,"div",5),m(1,"div",37),o())}function Te(r,e){r&1&&(n(0,"span",41),x(),n(1,"svg",46),m(2,"path",47),o()())}function Me(r,e){if(r&1&&(n(0,"span",42),l(1),o()),r&2){let t=c().$implicit;a(),y(t.expected_number_of_items)}}function Fe(r,e){if(r&1){let t=V();n(0,"div",51)(1,"div",52)(2,"div",53)(3,"div",54),x(),n(4,"svg",55),m(5,"path",56),o()(),k(),n(6,"div",57),l(7),o()(),n(8,"div",58)(9,"div",59)(10,"div",60)(11,"span"),l(12,"Item created"),o(),n(13,"span",42),l(14),o()(),n(15,"div",60)(16,"span"),l(17,"Expected number of question"),o(),f(18,Te,3,0,"span",41)(19,Me,2,1,"span",42),o()(),n(20,"button",61),p("click",function(){let s=v(t).$implicit,d=c(7);return b(d.openAddQuestionModal(s))}),x(),n(21,"svg",62),m(22,"path",63),o()()()()()}if(r&2){let t=e.$implicit;a(7),y(t.name),a(7),y(t.num_of_items_created),a(4),g(t.expected_number_of_items>=2147483647?18:19)}}function Ee(r,e){if(r&1&&(n(0,"div",48)(1,"div",49),l(2,"Sub-topics"),o(),n(3,"div",50),F(4,Fe,23,3,"div",51,W),o()()),r&2){let t=c(6);a(4),E(t.subtopics.value())}}function Ve(r,e){if(r&1&&f(0,Ee,6,0,"div",48),r&2){let t=c(5);g(t.subtopics.value().length>0?0:-1)}}function qe(r,e){if(r&1&&(f(0,Qe,2,0,"div",5),f(1,Ve,1,1)),r&2){let t=c(4);g(t.subtopics.isLoading()?0:-1),a(),g(t.subtopics.hasValue()?1:-1)}}function Ae(r,e){if(r&1){let t=V();n(0,"div")(1,"div",38),p("click",function(){let s=v(t).$implicit,d=c(3);return b(d.toggleSubtopics(s.id))}),n(2,"div",39),l(3),o(),n(4,"div",40)(5,"span"),l(6,"Expected number of question"),o(),f(7,ye,3,0,"span",41)(8,we,2,1,"span",42),n(9,"button",43),l(10,"View summary"),o(),x(),n(11,"svg",44),m(12,"path",45),o()()(),f(13,qe,2,2),o()}if(r&2){let t=e.$implicit,i=c(3);a(3),P("Topic: ",t.name),a(4),g(t.expected_total_count>=2147483647?7:8),a(4),I("rotate-90",i.activeTopicId()===t.id),a(2),g(i.activeTopicId()===t.id?13:-1)}}function ke(r,e){if(r&1&&F(0,Ae,14,5,"div",null,xe),r&2){let t=c(2);E(t.subject.value())}}function De(r,e){if(r&1&&f(0,ke,2,0),r&2){let t=c();g(t.subject.value().length>0?0:-1)}}function Ie(r,e){if(r&1){let t=V();n(0,"div",16)(1,"div",64)(2,"div")(3,"label",65)(4,"input",66),p("change",function(){let s=v(t).$index,d=c();return b(d.onCorrectOptionChange(s))}),o(),n(5,"span",67),m(6,"span",68),o(),l(7," Correct Answer "),o()(),n(8,"div",69)(9,"span",70),l(10),o(),n(11,"app-editor",71),p("valueChange",function(s){let d=v(t).$index,h=c();return b(h.onOptionChange(d,s))}),o()()()()}if(r&2){let t,i=e.$implicit,s=e.$index,d=c();u("formGroupName",s),a(4),u("checked",(t=i.get("isCorrect"))==null?null:t.value),a(6),y(d.mapIndex(s).alpha),a(),u("config",_(4,T))}}function Oe(r,e){if(r&1){let t=V();n(0,"div",16)(1,"div",64)(2,"div")(3,"label",65)(4,"input",73),p("change",function(){let s=v(t).$index,d=c().$index,h=c();return b(h.onQuestionCorrectOptionChange(d,s))}),o(),n(5,"span",67),m(6,"span",68),o(),l(7," Correct Answer "),o()(),n(8,"div",69)(9,"span",70),l(10),o(),n(11,"app-editor",71),p("valueChange",function(s){let d=v(t).$index,h=c().$index,Ce=c();return b(Ce.onQuestionOptionChange(h,d,s))}),o()()()()}if(r&2){let t,i=e.$implicit,s=e.$index,d=c().$index,h=c();u("formGroupName",s),a(4),u("name","correctOption-"+d)("checked",(t=i.get("isCorrect"))==null?null:t.value),a(6),y(h.mapIndex(s).alpha),a(),u("config",_(5,T))}}function $e(r,e){if(r&1){let t=V();z(0,23),n(1,"div",10)(2,"div",72),l(3),o(),n(4,"app-editor",12),p("valueChanges",function(s){let d=v(t).$index,h=c();return b(h.setQuestions(s,d))}),o()(),n(5,"div",13)(6,"div")(7,"label",11),l(8,"Options"),o(),n(9,"div",14),l(10,"Add options to your question"),o()()(),n(11,"div",15),F(12,Oe,12,6,"div",16,D),o(),K()}if(r&2){let t=e.$index,i=c();u("formGroupName",t),a(3),P(" Question ",t+1),a(),u("config",_(3,T)),a(8),E(i.options.controls)}}function Q(r){return new DOMParser().parseFromString(r,"text/html").body.textContent||""}function Le(r){return r.map(e=>({position:e.position,text:e.optionText,is_correct:e.isCorrect}))}var N=class r{_store=S(ue);_dataService=S(G);_toast=S(ie);_destroyRef=S(U);defaultSubject=R(()=>this._store.store().defaultSubject?.id);subject=this._dataService.getSubjects(this.defaultSubject);activeTopicId=R(()=>this.subject.value()?this.subject.value()[0].id:"");isCreatingQuestion=M(!1);isCreatingPassageQuestion=M(!1);subtopics=this._dataService.getSubtopics(this.defaultSubject,this.activeTopicId);isSavingToDraft=M(!1);questionCounts=M(1);showAddQuestionModal=!1;showAddPassageQuestionModal=!1;showMoveToDraftDialog=!1;creatingSubtopic=M(null);constructor(){ee(()=>{if(this.questionCounts()){let e=this.questionCounts();this.setQuestionCount(e)}})}MCQquestionsForm;createQuestionForm;ngOnInit(){this.initMCQForm(),this.initQuestionForm()}openAddQuestionModal(e){this.creatingSubtopic.set(e),console.log("Add Question: ",this.creatingSubtopic()),e.item_type==="Passage"||e.item_type==="Cloze"?(this.questionCounts.set(e.total_items_in_passage),this.showAddPassageQuestionModal=!this.showAddPassageQuestionModal):this.showAddQuestionModal=!this.showAddQuestionModal,console.log("Sub: ",e)}openMoveToDraftModal(){this.showMoveToDraftDialog=!this.showMoveToDraftDialog}toggleSubtopics(e){this.activeTopicId()===e?this.activeTopicId.set(""):this.activeTopicId.set(e)}initMCQForm(){this.MCQquestionsForm=new q({instruction:new C("",w.required),question:new C("",w.required),options:new $([this.createOptionGroup(),this.createOptionGroup(),this.createOptionGroup(),this.createOptionGroup()])})}createOptionGroup(){return new q({position:new C(0),optionText:new C("",w.required),isCorrect:new C(!1)})}get options(){return this.MCQquestionsForm.get("options")}onOptionChange(e,t){if(t){let i=Q(t);this.options.at(e).get("position")?.setValue(e+1),this.options.at(e).get("optionText")?.setValue(i),this.options.at(e).get("optionText")?.markAsDirty()}}onCorrectOptionChange(e){this.options.controls.forEach((t,i)=>{t.get("isCorrect")?.setValue(i===e)})}setMCQquestion(e){if(e){let t=Q(e);this.MCQquestionsForm.get("question")?.setValue(t)}}setMCQInstruction(e){if(e){let t=Q(e);this.MCQquestionsForm.get("instruction")?.setValue(t)}}get hasCorrectOption(){return this.options.value.some(e=>e.isCorrect===!0)}addMCQItem(){let e=this.MCQquestionsForm.value,t=Le(e.options),i={question_type:this.creatingSubtopic()?.item_type,subject_id:this.defaultSubject(),topic_id:this.creatingSubtopic()?.id,title:e.instruction,text:e.question,difficulty:0,taxonomy:"Understanding",options:t,submit:!1,task_id:this.creatingSubtopic()?.task_id};this.isSavingToDraft()?(this.isSavingToDraft.set(!1),i.submit=!1,this.isCreatingQuestion.set(!0),this._dataService.createMCQquestion(i).pipe(this._toast.observe({loading:"Creating question....",success:"Question created successfully",error:s=>s.error.message??j.DEFAULT}),A(()=>this.isCreatingQuestion.set(!1)),L(this._destroyRef)).subscribe(s=>{this.showAddQuestionModal=!1,this.creatingSubtopic.set(null),this.subtopics.reload()})):(i.submit=!0,this.isCreatingQuestion.set(!0),this._dataService.createMCQquestion(i).pipe(this._toast.observe({loading:"Creating question....",success:"Question created successfully",error:s=>s.error.message??j.DEFAULT}),A(()=>this.isCreatingQuestion.set(!1)),L(this._destroyRef)).subscribe(s=>{this.showAddQuestionModal=!1,this.creatingSubtopic.set(null),this.subtopics.reload()}))}initQuestionForm(){this.createQuestionForm=new q({instruction:new C("",w.required),passage:new C("",w.required),questions:new $([])})}setQuestionCount(e){let t=this.questions;t.clear();for(let i=0;i<e;i++)t.push(this.createQuestion())}createQuestion(){return new q({question:new C("",w.required),options:new $([this.createOptionGroup(),this.createOptionGroup(),this.createOptionGroup(),this.createOptionGroup()])})}get questions(){return this.createQuestionForm.get("questions")}getQuestionOptions(e){return this.questions.at(e).get("options")}oneCorrectValidator(e){return e.value.some(i=>i.isCorrect)?null:{noCorrectSelected:!0}}onQuestionCorrectOptionChange(e,t){let i=this.getQuestionOptions(e);i.controls.forEach((s,d)=>{s.get("isCorrect")?.setValue(d===t)}),i.updateValueAndValidity()}get canSubmit(){return this.questions.controls.every(t=>!t.get("options").hasError("noCorrectSelected"))}setInstruction(e){if(e){let t=Q(e);this.createQuestionForm.get("instruction")?.setValue(t)}}setPassage(e){if(e){let t=Q(e);this.createQuestionForm.get("passage")?.setValue(t)}}setQuestions(e,t){if(e){let i=Q(e);this.questions.at(t).get("question")?.setValue(i),this.questions.at(t).get("question")?.markAsDirty()}}onQuestionOptionChange(e,t,i){if(i){let s=Q(i);this.getQuestionOptions(e).at(t).get("position")?.setValue(t+1),this.getQuestionOptions(e).at(t).get("optionText")?.setValue(s),this.getQuestionOptions(e).at(t).get("optionText")?.markAsDirty()}}addItem(){var e=new ge(this.createQuestionForm.value,this.defaultSubject(),this.creatingSubtopic()?.id,fe[this.creatingSubtopic()?.item_type],this.creatingSubtopic()?.task_id,this.isSavingToDraft());console.log("Built: ",e),this._dataService.createQuestion(e).pipe(this._toast.observe({loading:"Creating question....",success:"Question created successfully",error:t=>t.error.message??j.DEFAULT}),A(()=>this.isCreatingQuestion.set(!1)),L(this._destroyRef)).subscribe(t=>{this.showAddPassageQuestionModal=!1,this.creatingSubtopic.set(null),this.subtopics.reload()})}mapIndex(e){return me(e)}back(){history.back()}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=Z({type:r,selectors:[["app-questions"]],decls:78,vars:39,consts:[[1,"flex","items-center","justify-between"],[1,"btn-outline",3,"click"],["width","7","height","13","viewBox","0 0 7 13","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M6.70679 0.792787C6.89426 0.980314 6.99957 1.23462 6.99957 1.49979C6.99957 1.76495 6.89426 2.01926 6.70679 2.20679L2.41379 6.49979L6.70679 10.7928C6.88895 10.9814 6.98974 11.234 6.98746 11.4962C6.98518 11.7584 6.88001 12.0092 6.6946 12.1946C6.5092 12.38 6.25838 12.4852 5.99619 12.4875C5.73399 12.4897 5.48139 12.3889 5.29279 12.2068L0.292787 7.20679C0.105316 7.01926 0 6.76495 0 6.49979C0 6.23462 0.105316 5.98031 0.292787 5.79279L5.29279 0.792787C5.48031 0.605316 5.73462 0.5 5.99979 0.5C6.26495 0.5 6.51926 0.605316 6.70679 0.792787Z","fill","#B9B9B9"],[1,"mt-10","flex","flex-col","gap-5"],[1,"flex","justify-center","items-center","p-5"],["header","Add an item",3,"visibleChange","focusOnShow","modal","visible"],[1,"text-gray-500","mb-8"],[1,"form",3,"ngSubmit","formGroup"],[1,"form-container","gap-3"],[1,"form-group"],[1,"!text-sm"],[1,"!w-full",3,"valueChanges","config"],[1,"flex","items-start","justify-between","my-5"],[1,""],["formArrayName","options",1,"form-container"],[1,"flex","flex-col","gap-2",3,"formGroupName"],[1,"flex","items-center","justify-between","ml-0","gap-3","mt-5"],["type","button",1,"btn-outline","!rounded-xl",3,"click"],[1,"flex","items-center","gap-3"],["type","submit",1,"btn","!rounded-xl","!bg-highlight","!text-primary",3,"click","disabled"],["type","submit",1,"btn","!rounded-xl",3,"disabled"],["formArrayName","questions",1,"form-container","gap-3"],[3,"formGroupName"],[1,"btn-outline","!rounded-xl",3,"click"],["type","submit",1,"btn","!rounded-xl","!bg-highlight","!text-primary",3,"disabled"],[3,"visibleChange","closable","focusOnShow","modal","visible"],[1,"form"],[1,"flex","flex-col"],[1,"mx-auto","w-[100px]"],["width","120","height","120","viewBox","0 0 120 120","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M106.377 9.52659C90.5574 23.2178 77.1736 36.251 64.9205 53.2553C59.5167 60.7553 53.5074 69.5828 49.5792 77.9172C47.3367 82.3366 43.2942 89.2422 41.9161 95.8816C34.3786 88.8691 26.2824 80.9097 17.9986 74.6753C12.0942 70.2335 -4.912 79.2897 2.0105 84.4985C14.4174 93.8303 24.7355 105.453 36.803 115.202C41.8505 119.274 53.0367 110.43 55.6655 106.719C64.2942 94.4941 65.4736 79.5503 71.7624 66.2153C81.3642 45.821 98.393 29.0678 115.206 14.5197C126.345 4.13034 114.84 2.21409 106.394 9.52659","fill","#25A249"],[1,"text-gray-800","mt-3","mb-1","text-center","text-lg"],[1,"text-gray-500","text-center"],[1,"flex","items-center","justify-between","gap-3","mt-3","col-span-full"],[1,"btn-outline","flex-1","!rounded-xl",3,"click"],[1,"btn","flex-1","!rounded-xl"],[1,"size-7","border-2","border-gray-500","border-t-transparent","rounded-full","animate-spin"],[1,"flex","items-center","justify-between","gap-5","text-gray-900","bg-highlight","p-5","cursor-pointer",3,"click"],[1,"text-sm"],[1,"flex","items-center","gap-5"],[1,"rounded-full","h-6","w-10","flex","items-center","justify-center","border","border-primary"],[1,"rounded-full","h-6","w-10","flex","items-center","justify-center","border","border-primary","bg-highlight"],[1,"btn"],["width","24","height","24","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg",1,"transform","transition-transform","duration-300"],["fill-rule","evenodd","clip-rule","evenodd","d","M8.65077 17.309C8.47596 17.1342 8.37776 16.897 8.37776 16.6498C8.37776 16.4025 8.47596 16.1654 8.65077 15.9905L12.6538 11.9875L8.65077 7.98448C8.48091 7.80861 8.38693 7.57307 8.38905 7.32858C8.39117 7.0841 8.48924 6.85023 8.66213 6.67734C8.83501 6.50446 9.06888 6.40639 9.31337 6.40427C9.55785 6.40214 9.7934 6.49613 9.96926 6.66598L14.6315 11.3283C14.8063 11.5031 14.9045 11.7402 14.9045 11.9875C14.9045 12.2348 14.8063 12.4719 14.6315 12.6467L9.96926 17.309C9.7944 17.4838 9.55727 17.582 9.31001 17.582C9.06276 17.582 8.82563 17.4838 8.65077 17.309Z","fill","#292929"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","width","20","height","20","color","#0000","fill","none",1,"stroke-white"],["d","M12 12C12 12 9.26142 17 6.5 17C3.73858 17 2 14.7614 2 12C2 9.23858 3.73858 7 6.5 7C9.26142 7 12 12 12 12ZM12 12C12 12 14.7386 17 17.5 17C20.2614 17 22 14.7614 22 12C22 9.23858 20.2614 7 17.5 7C14.7386 7 12 12 12 12Z","stroke","#141B34","stroke-width","1.5"],[1,"p-5"],[1,"text-gray-700"],[1,"flex","flex-col","gap-4","my-5","max-h-[600px]","overflow-y-auto"],[1,"rounded-2xl","bg-gray-50","p-5"],[1,"flex","justify-between","items-center"],[1,"flex","gap-3","items-center"],[1,"flex","items-center","justify-center","bg-highlight","size-10","rounded-full","p-2.5"],["width","24","height","24","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M17 7V9H15V7H17ZM13 7V9H7V7H13ZM13 11H7V13H13V11ZM15 11V13H17V11H15ZM21 22L18 20L15 22L12 20L9 22L6 20L3 22V3H21V22ZM19 18.26V5H5V18.26L6 17.6L9 19.6L12 17.6L15 19.6L18 17.6L19 18.26Z","fill","#292929"],[1,"text-gray-600"],[1,"flex","items-center","gap-4"],[1,"flex","justify-center","items-center","self-center","gap-4"],[1,"flex","flex-row","items-center","gap-2"],[1,"border","border-primary","p-3","rounded-md","bg-highlight",3,"click"],["width","10","height","10","viewBox","0 0 15 15","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M13.3105 8.49805H8.31055V13.498C8.31055 13.7633 8.20519 14.0176 8.01765 14.2052C7.83012 14.3927 7.57576 14.498 7.31055 14.498C7.04533 14.498 6.79098 14.3927 6.60344 14.2052C6.4159 14.0176 6.31055 13.7633 6.31055 13.498V8.49805H1.31055C1.04533 8.49805 0.790977 8.39269 0.60344 8.20515C0.415904 8.01762 0.310547 7.76326 0.310547 7.49805C0.310547 7.23283 0.415904 6.97848 0.60344 6.79094C0.790977 6.6034 1.04533 6.49805 1.31055 6.49805H6.31055V1.49805C6.31055 1.23283 6.4159 0.978476 6.60344 0.79094C6.79098 0.603403 7.04533 0.498047 7.31055 0.498047C7.57576 0.498047 7.83012 0.603403 8.01765 0.79094C8.20519 0.978476 8.31055 1.23283 8.31055 1.49805V6.49805H13.3105C13.5758 6.49805 13.8301 6.6034 14.0177 6.79094C14.2052 6.97848 14.3105 7.23283 14.3105 7.49805C14.3105 7.76326 14.2052 8.01762 14.0177 8.20515C13.8301 8.39269 13.5758 8.49805 13.3105 8.49805Z","fill","#242424"],[1,"flex","flex-col","gap-3"],[1,"relative","flex","items-center","gap-4","cursor-pointer","select-none"],["type","radio","name","correctOption",1,"hidden","peer",3,"change","checked"],[1,"w-5","h-5","rounded-full","border-2","border-primary","flex","items-center","justify-center","peer-checked:bg-primary"],[1,"w-2.5","h-2.5","bg-blue-600","rounded-full","scale-0","peer-checked:scale-100","transition-transform","duration-150"],[1,"flex","flex-row","gap-3"],[1,"rounded-full","bg-primary","flex","items-center","justify-center","uppercase","size-6","text-white"],[1,"flex-1",3,"valueChange","config"],[1,"border-b","border-gray-200","border-dashed","py-3","mb-3","text-gray-600","font-semibold","text-base"],["type","radio",1,"hidden","peer",3,"change","name","checked"]],template:function(t,i){t&1&&(n(0,"div",0)(1,"button",1),p("click",function(){return i.back()}),x(),n(2,"svg",2),m(3,"path",3),o(),k(),n(4,"span"),l(5,"BACK"),o()()(),n(6,"div",4),f(7,Se,2,0,"div",5),f(8,De,1,1),o(),n(9,"p-dialog",6),p("visibleChange",function(){return i.showAddQuestionModal=!i.showAddQuestionModal}),n(10,"div",7),l(11,"Please fill in the fields below to add an item"),o(),n(12,"form",8),p("ngSubmit",function(){return i.addMCQItem()}),n(13,"div",9)(14,"div",10)(15,"label",11),l(16,"Instructions"),o(),n(17,"app-editor",12),p("valueChanges",function(d){return i.setMCQInstruction(d)}),o()(),n(18,"div",10)(19,"label",11),l(20,"Question"),o(),n(21,"app-editor",12),p("valueChanges",function(d){return i.setMCQquestion(d)}),o()(),n(22,"div",13)(23,"div")(24,"label",11),l(25,"Options"),o(),n(26,"div",14),l(27,"Add options to your question"),o()()(),n(28,"div",15),F(29,Ie,12,5,"div",16,D),o(),n(31,"div",17)(32,"button",18),p("click",function(){return i.showAddQuestionModal=!i.showAddQuestionModal}),l(33,"Cancel"),o(),n(34,"div",19)(35,"button",20),p("click",function(){return i.isSavingToDraft.set(!0)}),l(36,"Save to draft"),o(),n(37,"button",21),l(38,"Save for submission"),o()()()()()(),n(39,"p-dialog",6),p("visibleChange",function(){return i.showAddPassageQuestionModal=!i.showAddPassageQuestionModal}),n(40,"div",7),l(41,"Please fill in the fields below to add an item"),o(),n(42,"form",8),p("ngSubmit",function(){return i.addItem()}),n(43,"div",22)(44,"div",10)(45,"label",11),l(46,"Instructions"),o(),n(47,"app-editor",12),p("valueChanges",function(d){return i.setInstruction(d)}),o()(),n(48,"div",10)(49,"label",11),l(50,"Passage"),o(),n(51,"app-editor",12),p("valueChanges",function(d){return i.setPassage(d)}),o()(),F(52,$e,14,4,"ng-container",23,D),n(54,"div",17)(55,"button",24),p("click",function(){return i.showAddPassageQuestionModal=!i.showAddPassageQuestionModal}),l(56,"Cancel"),o(),n(57,"div",19)(58,"button",25),l(59,"Save to draft"),o(),n(60,"button",21),l(61,"Save for submission"),o()()()()()(),n(62,"p-dialog",26),Y("visibleChange",function(d){return X(i.showMoveToDraftDialog,d)||(i.showMoveToDraftDialog=d),d}),n(63,"form",27)(64,"div",9)(65,"div",28)(66,"span",29),x(),n(67,"svg",30),m(68,"path",31),o()(),k(),n(69,"div",32),l(70,"Question successfully saved to draft!"),o(),n(71,"div",33),l(72,"The question have been successfully saved to draft"),o()(),n(73,"div",34)(74,"button",35),p("click",function(){return i.openMoveToDraftModal()}),l(75,"Cancel"),o(),n(76,"button",36),l(77,"Go to draft"),o()()()()()),t&2&&(a(7),g(i.subject.isLoading()?7:-1),a(),g(i.subject.hasValue()?8:-1),a(),O(_(32,he)),I("hidden",!i.showAddQuestionModal),u("focusOnShow",!1)("modal",!0)("visible",!0),a(3),u("formGroup",i.MCQquestionsForm),a(5),u("config",_(33,T)),a(4),u("config",_(34,T)),a(8),E(i.options.controls),a(6),u("disabled",i.MCQquestionsForm.invalid||i.isCreatingQuestion()||!i.hasCorrectOption),a(2),u("disabled",i.MCQquestionsForm.invalid||i.isCreatingQuestion()||!i.hasCorrectOption),a(2),O(_(35,he)),I("hidden",!i.showAddPassageQuestionModal),u("focusOnShow",!1)("modal",!0)("visible",!0),a(3),u("formGroup",i.createQuestionForm),a(5),u("config",_(36,T)),a(4),u("config",_(37,T)),a(),E(i.questions.controls),a(6),u("disabled",i.createQuestionForm.invalid||i.isCreatingPassageQuestion()||!i.canSubmit),a(2),u("disabled",i.createQuestionForm.invalid||i.isCreatingPassageQuestion()||!i.canSubmit),a(2),O(_(38,be)),u("closable",!1)("focusOnShow",!1)("modal",!0),J("visible",i.showMoveToDraftDialog))},dependencies:[le,oe,ne,re,se,ae,pe,ce,_e],encapsulation:2})};export{N as default};
